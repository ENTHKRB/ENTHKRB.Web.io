# 结业报告

## 设计内容

&emsp;&emsp;本人做的是一个有关于游戏《怪物猎人世界：冰原》里面本人非常喜欢的一把武器「操虫棍」的新手指南，主要提供这把武器的一些基础参数、招式，以及本人在游戏的不同时期的个人配装推荐，当然还有<del>和操虫棍毫不相关的</del>音乐鉴赏，至于为什么有音乐鉴赏，还是怪猎的音乐很对本人胃口，于是就选了几首本人喜欢的音乐来介绍。

## 主要设计

### 关于网页主体

&emsp;&emsp;五个页面的网页主体基本是一致，即都是通过多个div竖直排布成若干个板块，在板块内部写入不同的内容，因此这部分的设计只会在主页的介绍中说明，在其它页面的介绍中只会介绍一些独特的部分。唯一有区别的就是，基本信息、招式派生和配装推荐这三个页面中的每一个div板块还包含在一个大的div里面，然后为外层div设置左右边距实现在页面中心显示内容，而非占满整个页面，如下。

```HTML
<!-- 只列出关键部分 -->

 <div class="main"><!-- 外层div，主页和音乐鉴赏两个页面没有 -->
        <div class="content"></div><!-- 内容模块 -->
        <div class="content"></div>
</div>
```

```CSS
/* 只列出关键部分 */

.main {
    display: flex;/*设置弹性布局*/
    flex-direction: column;/*设置垂直排列*/
    width: 80%;/*占80%页面宽度*/
    margin-left: 10%;/*左侧外边距为10%，实现居中*/
}
</div>
```

### 网页顶部与背景

&emsp;&emsp;五个网页的顶部设计是一致的，通过以下HTML创建了一个包含整个顶部的div用于放置背景图片，然后在该div里面又放置了一个div用来容纳文字。

```HTML
<!-- 只列出关键部分 -->

<div id="top-outer"><!-- 外层div -->
    <div id="top-inner"><!-- 内层div -->
        <h1>总标题</h1>
        <h3>
            内容
        </h3>
    </div>
</div>
```

&emsp;&emsp;通过以下CSS设定了两个div的样式，使得网页顶部内容随着网页宽度的变化而变化，并且将外部div设置为表格布局，再将内部div设置为表格项即可更简单的实现水平居中效果。

```CSS
/*只列出关键部分*/

#top-outer {
    width: 100%;/*占网页100%的宽度，自适应*/
    overflow: hidden;/*将溢出元素的内容隐藏*/
    background: url("../image/index/index_top_background.jpg") no-repeat center center; /*设定背景图片路径且不重复，取图片的中心部分*/
    display: table;/*外部div设定为表格布局，内部div设置为表格项可以更简单的实现居中效果*/
}

#top-inner {
    display: table-cell;/*设置为表格项*/
    text-align: center;/*文字水平居中*/
}
```

&emsp;&emsp;通过以下CSS设定了背景图片的路径，该图片是固定的，位置不能随着网页的滚动而变化，并且当网页大小变化时，始终取图片的中心部分。

```CSS
/*只列出关键部分*/

body {
    background: url("../image/index/monster_hunter_world_background.jpg");/*设定背景图片*/
    background-size: cover;/*背景图片自适应网页大小*/
    background-position: center;/*取图片中心部分*/
    background-attachment: fixed;/*固定位置，不随页面的滚动而滚动*/
}
```

### 主页

#### 板块

&emsp;&emsp;主页简单介绍了《怪物猎人：世界》、《怪物猎人世界：冰原》与操虫棍这把武器的一些基本资料，同时在最底部包含了跳转至另外四个页面的超链接。
<br>&emsp;&emsp;主页一共有四个div板块，前三个板块用于介绍一些信息，第四个板块提供页面跳转，因为前三个板块中，每一个板块都包含了文字与图片，因此用了一个div来包含其中的内容，内部又有一个h1标签作为板块标题，一个div用来包含剩余内容，包括文字部分与图片部分，如下HTML。

```HTML
<!-- 只列出关键部分 -->

<div class="section"><!-- 外层div -->
    <h1>标题</h1><!-- 标题 -->
    <div class="content"><!-- 内容div -->
        <div class="text"><!-- 文字内容div -->
            文字内容
        </div>
        <div class="image-container"><!-- 图片内容div -->
            图片内容
        </div>
    </div>
</div>
```

&emsp;&emsp;在页面中可以看到，外层、文字内容、图片内容中的div中的元素需要垂直排列，但内容div中则需要水平排列。通过以下CSS，便可以将section中的元素设定为垂直排列，text与image-container中的CSS设置也是同理。当网页缩放时，文字板块和图片板块应当以不同的占用比例来缩放，因此需要在两个板块的CSS中设定其占用比例，当网页缩放时，文字与图片便可以4:5的比例缩放，从而保证其布局稳定。其中图片也需要随着网页的大小变化而变化，通过设置其最大宽度让其占满image-container的宽度，并且高度随着图片比例的变化而变化。

```CSS
/*只列出关键部分*/

.section {
    display: flex;/*设置弹性布局*/
    flex-direction: column;/*设置垂直排列*/
}

.text {
    flex: 4;/*占用比例*/
}

.image-container {
    flex: 5;/*占用比例*/
}

.image-container img {
    max-width: 100%;/*最大宽度*/
    width: auto;/*根据图片比例自动调整宽度*/
    height: auto;/*根据图片比例自动调整高度*/
}
```
#### 底部导航

&emsp;&emsp;主页的最后一个部分是其它四个页面的导航，每一个导航口都是一个guide-box的div元素，其内部包含这个导航的标题，导航的页面的简述以及一个超链接按钮，四个导航口水平排列。在设计时遇到了一个问题，就是超链接通过设置宽度后再设置水平居中并没有效果，于是就选择了设置其左侧外边距为100%减去其宽度的一半来使其水平居中，具体见下CSS。

```CSS
/*只列出关键部分*/

.guide-box a {
    width: 50%;/*宽度占50%*/
    text-decoration: none;/*去掉下划线*/
    margin-left: 25%;/*100%减去宽度的一半，实现水平居中*/
}
```

### 基础信息与招式派生页面

&emsp;&emsp;则两个页面的设计基本完全一致，只是在内容上有所区别。基础信息从五个方面介绍了操虫棍这把武器的特点，招式派生则是介绍了操虫棍最基础的招式，并且根据个人经验推荐了一些关键招式的派生路线与运用技巧，给读者一定的参考。
<br>&emsp;&emsp;两个页面都可以通过左侧导航栏实现页间不同内容板块的跳转。

#### 返回主页按钮与左侧导航栏

&emsp;&emsp;除了主页以外的四个页面都拥有一个返回主页的固定按钮与一个左侧的导航栏。返回主页的按钮是一个超链接，并且其位置固定在页面的左上角。左侧导航栏是一个列表，本人为每一个页面板块都添加了一个ID，用于识别跳转。导航栏不使用时处于网页外，只显示一小块边框，鼠标移动上去后移入页面，通过设定其伪类选择器中的hover属性便可实现，并且通过设定过渡动画实现缓慢移入，而不是瞬间移入。具体见下HTML与CSS。

```HTML
<!-- 只列出关键部分 -->

<div class="nav">/*左侧导航栏*/
    <ul>
        <li>
            <p>页内跳转</p>
        </li>
        <li><a href="#1" title="跳转至 武器特点"></a></li>
    </ul>

    <ul>
        <li>
            <p>页间跳转</p>
        </li>
        <li><a href="skill.html" title="跳转至 招式派生"></a></li>
    </ul>
</div>
```

```CSS
/*只列出关键部分*/

* {
    scroll-behavior: smooth;/*设定页内导航平滑滚动，而不是跳跃式的*/
}

#backToIndex {/*返回主页按钮*/
    position: fixed;/*位置固定*/
    margin: 20px;/*外边距*/
    text-decoration: none;/*取消下划线*/
}

.nav {/*左侧导航栏*/
    position: fixed;/*位置固定*/
    top: 30%;/*顶部距离*/
    left: -14%;/*平时隐藏到左侧*/
    width: 15%;/*宽度*/
    transition: left 0.3s ease;/*当left属性改变时，在0.3s内变化，实现移动动画*/
}

.nav:hover {
    left: 0%;/*鼠标放上去时移入页面*/
}
```

#### 图片放大与查看大图
&emsp;&emsp;当把鼠标移动至图片上时，图片要进行一定程度的放大，并且在点击后，会出现一张大图覆盖屏幕，以方便读者更清楚的了解相关内容。图片放大通过hover样式即可实现，但要实现点击出现大图，则需要通过JS函数来实现，当点击图片时，首先创建一个div将其覆盖在整个body上，然后在div中插入图片，并为div添加一个点击事件，点击后移除div，即可实现查看大图的功能，最后将该函数绑定到每个图片的点击操作上，具体见下。

```HTML
<!-- 只列出关键部分 -->

<img src="../image/information/kinsect_strengthen.jpg" onclick="showBig('../image/information/kinsect_strengthen.jpg')" title="点击查看大图">
```

```CSS
/*只列出关键部分*/

.image-container img {
    transition: transform 0.1s ease-out;/*为图片添加一个transform的过渡效果，过渡时间为0.3s*/
}

.image-container img:hover {
    transform: scale(1.3);/*鼠标移入时，将图片放大1.3倍*/
}

.image-container img:not(:hover) {
    transform: scale(1);/*鼠标移出时，变回原始大小*/
}
```

```JS
/*只列出关键部分*/

    function showBig(imageUrl) {/*传入图片路径*/
        var overlay = document.createElement('div');/*创建div*/
        overlay.id = 'bigImage';
        document.body.appendChild(overlay);/*覆盖到body上*/
        var image = document.createElement('img');
        image.src = imageUrl;
        overlay.appendChild(image);/*添加图片*/
        overlay.onclick = function () {
            overlay.parentNode.removeChild(overlay);/*点击div，大图消失*/
        };
    }
```

### 配装推荐页面

&emsp;&emsp;配装推荐页面主要是根据本人在游玩的过程中的经验总结出的在不同时期的配装，可以给读者提供一系列的参考。
<br>&emsp;&emsp;这个页面的主要内容都包含在一个个收起的div里面，点击div便可以实现展开和收起。

#### 内容的展开与收起

&emsp;&emsp;要实现这个功能，首先要在每个div板块中加入一个标题标签与一个内容div，收起时只会收起内容div，留下标题。因此需要通过JS函数为每个div的标题增加一个事件监听器，监听其点击事件，当点击时获取下一个兄弟元素，也即是内容div，并判断其高度是否为0，如果为0则证明需要展开，否则就收起，同时改变提示文本的信息。与此同时，为了保证收起展开时拥有缓动效果，还需要在CSS中为内容div的高度属性变化增加一个过渡效果，见下。

```CSS
/*只列出关键部分*/

.content {
    height: 0px;/*默认不显示内容*/
    overflow: hidden;/*隐藏溢出的内容*/
    transition: height 0.3s ease;/*设置高度变化的过渡效果*/
}
```

```JS
/*只列出关键部分*/

    var titles = document.querySelectorAll('.title');/*获取所有类名为title的元素*/
    for (var i = 0; i < titles.length; i++) {
        titles[i].addEventListener('click', function () {/*为其增加点击的事件监听器*/
            var content = this.nextElementSibling;/*获取其兄弟元素，也就是内容div*/
            if (content.style.height === '0px') {/*高度是否为0*/
                this.setAttribute('title', '点击收起');
                content.style.height = content.scrollHeight + 'px';/*设置其高度，将其展开*/
            } else {
                this.setAttribute('title', '点击展开');
                content.style.height = '0px';/*收起*/
            }
        });
    }
```

&emsp;&emsp;当然，在设计时还是遇到了一个问题，那就是当所有内容都收起时，页面内容并没有超过页面高度，也就是没有滚动条，但展开时，内容超出页面高度，就出现了滚动条，使得页面宽度被压缩，导致内容中的部分文字换行，但是高度在展开前就已经通过scrollHeight获取到了，因为获取时没有滚动条，自然也就不会计算换行产生的额外高度，导致高度不足，底部内容显示不全。
<br>&emsp;&emsp;为了解决这个问题，本人尝试了一些方法，如直接在scrollHeight中再增加一些固定高度，但不同的内容板块换行数也不同，导致格式参差不齐。最后，实在是找不到满意的方法，本人选择了一个很草率的方法，那就是强制显示滚动条，无论是否需要滚动，如下。虽然很草率，但总归是解决了问题。

```CSS
/*只列出关键部分*/

html {
    overflow-y: scroll;/*强制显示垂直滚动条，草率，但有用*/
}
```

### 音乐鉴赏页面

&emsp;&emsp;这个页面就是挑了四首本人很喜欢的音乐来介绍了，本来和操虫棍没有什么关系，但是怪猎音乐确实很好，就情不自禁想挑几首来做。本来是打算多做几首的，但是一直找不到合适的图片就放弃了几首，其实做多点也就是多几个板块，没有什么设计上的新内容。
<br>&emsp;&emsp;音乐鉴赏界面和主页几乎长得一模一样，唯一不同的就是一个返回主页的按钮与左侧导航栏，这些内容在上面都已经介绍过了，此处只介绍关于音乐播放audio标签的简单设计。

#### 音乐播放

&emsp;&emsp;通过HTML自带的audio标签就可以实现音乐播放了，但还是需要解决几个问题，第一个就是本人发现音乐播放器会处于导航栏的上方，二是音乐播放器的位置无法通过设置align属性来调整，但有了上面的设计经验，很快就解决了，如下。

```CSS
/*只列出关键部分*/

.nav {
    z-index: 999;/*导航栏的z轴设定为999，使其处于一切元素的上方*/
}

.text-music audio {
    width: 70%;/*占父元素宽度的70%*/
    margin-left: 15%;/*左外边距为父元素的15%，实现居中*/
}
```

## 总结

&emsp;&emsp;本人的页面整体设计比较简洁，一方面是没有相关的开发经验，设计能力不足，另一方面还是偏好这种风格。
<br>&emsp;&emsp;其实在最初设计时，考虑到这是一个教程性质的网站，自然文本量会比较大，实际上相比页面设计，在总结个人的游戏经验方面花的时间确实更多，没有太多时间去在页面设计上下功夫，也就没有太多设计方面的内容。实际上也是，在报告写到这里时，本人都感觉报告内容很少，但确实很多内容是重复的，没必要都拿来说一遍。不知道对于这个项目来说，这个开发方向是否有点偏了。但总归也是本人设计的第一个网站，在总体的设计上，个人还是比较满意的。
<br>&emsp;&emsp;在开发过程中，本人也尝试过去用一些看起来比较炫酷的效果，但实际用起发现和网页并不是很搭。作为一个教程网站，重点是让浏览者能够更加清楚的知道你想教他什么东西，他能快速的找到想要的东西，开发都是需要着重实际的，不考虑应用场景而一味的展示自己有多么高超的设计能力多少有点问题，虽然本人也确实没那个能力去弄一个很炫的网站。
<br>&emsp;&emsp;在收获方面，作为第一次开发一个像样的网页，自然能收获很多，毕竟都是没怎么接触过的东西，但要具体说，也只能说学到了一种新的开发方法，相比本人之前一直开发的桌面应用程序，网页无论是在开发速度，还是在框架选择的丰富性方面，都有着得天独厚的优势。这个项目也让本人了解到了一个网页的基本构成，网页涉及到的一些基础的标签以及它们的运用，如何简单的通过CSS去美化页面，通过简单的JS去增强页面的功能性。对本人而言，可能连入门都算不上，但是从毫不了解到简单开发，收获已经不少，而且也激发了我对开发网页的兴趣，也能继续保持相关内容的学习。
<br>&emsp;&emsp;平心而论，无论这个网页实际上效果如何，但能为自己喜欢的游戏、武器专门设计一个网页，对我本人而言是一件相当自豪的事情。这是本人第一次能够用很多人都能直观看到的方式去展示他们，而并非是在口头上去阐述，或者仅通过文字去抽象的描述。本人以前在使用网站时都没有这样的想法，只是单纯的寻找自己需要的内容，都说实践出真知，当自己亲自开发一个网页时，才真正能感受到为什么一个网站开发明明不是一件容易的事，却还有那么多完全免费、完全开放网站，因为网页就是这样一个载体，易于访问是它天然的优势，通过此，向更多人以直观的方式展现自己热爱的事物，的确是一件很高兴的事，至少对我而言是这样的。